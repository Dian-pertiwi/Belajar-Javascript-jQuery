<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contoh jQuery AJAX</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <body>
      <style>
        .container {
          display: flex;
          align-items: center;
        }
        .loading-icon {
          display: none;
          width: 20px;
          height: 20px;

          margin-left: 15px;
        }
        .img-container {
          width: 300px;
          height: 300px;

          margin-top: 20px;
        }

        img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
      </style>
      <div class="container">
        <button>Update Image</button>
        <span class="loading-icon">
          <img
            src="https://api.dataindonesia.id/article/v2/articles/dashboard-produksi-buah-di-indonesia"
            alt="Gambar" />
        </span>
      </div>

      <div class="img-container">
        <img src="" class="dog-img" alt="Gambar" />
      </div>

      <script>
        $(document).ready(function () {
          $("button").click(function () {
            $(".loading-icon").show();
            $("button").attr("disabled", "disabled");

            $.ajax({
              // url: "https://dog.ceo/api/breeds/image/random ", // Ganti URL ini dengan URL API yang Anda ingin minta data
              url: "https://api.dataindonesia.id/article/v2/articles/dashboard-produksi-buah-di-indonesia",
              type: "GET",
              success: function (res) {
                setTimeout(() => {
                  $(".loading-icon").hide();
                  $("button").removeAttr("disabled");
                }, 1200);

                $("img").attr("src", res.message);
              },
            });
          });
        });
      </script>
    </body>
  </head>
</html>
